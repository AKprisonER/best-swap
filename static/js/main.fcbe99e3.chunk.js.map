{"version":3,"sources":["Componenets/Exchanges/common.js","Componenets/Exchanges/Changelly/index.js","Componenets/Exchanges/CoinSwitch/api.js","Componenets/Exchanges/CoinSwitch/index.js","Componenets/LastExchangeBox.js","Componenets/ExchangeModal.js","Componenets/Exchanges/aggregator.js","Componenets/Main.js","App.js","serviceWorker.js","index.js","aragonui-logo.png","changelly-logo.png"],"names":["amountCheck","fix","amount","limit","error","fixError","minAmountFixed","Error","maxAmountFixed","floatError","minAmountFloat","maxAmountFloat","changelly","Changelly","process","exchange","getExchangeAmount","from","to","a","async","result","Number","id","getFixRateForAmount","amountFrom","amountTo","toString","getMinMaxForPair","getPairsParams","pairParams","MAX_VALUE","getCurrenciesSymbolAndLabel","getCurrenciesFull","coins","filter","coin","enabled","map","symbol","name","label","fullName","createTransaction","rateId","address","extraId","refundAddress","refundExtraId","createFixTransaction","tx","currencyFrom","currencyTo","amountExpectedFrom","amountExpectedTo","payoutAddress","payinAddress","payinExtraId","expiration","payTill","getTransactionStatus","getStatus","URI","URI_PREFIX","console","log","API_KEY","getRates","depositCoin","destinationCoin","params","requestCoinSwitch","rate","getFixedPairs","pairs","pair","isActive","length","getFixedRates","depositCoinAmount","destinationCoinAmount","offer","endpoint","method","url","options","headers","body","JSON","stringify","fetch","response","status","json","resJson","success","data","msg","text","CoinSwitchAPI","offerReferenceId","destinationAmount","minerFee","Promise","all","floatResult","fixResult","limitMinDepositCoin","limitMaxDepositCoin","LastExchange","transaction","useState","setStatus","header","title","shortenAddress","onClick","icon","ExchangeModal","fixed","fixRateId","exchangeName","updateTransaction","opened","setOpened","errorMessage","setErrorMessage","errorOpened","setErrorOpened","message","mode","closeButton","width","padding","visible","onClose","style","alignItems","fontSize","paddingLeft","toUpperCase","entity","display","alignContent","getBestOffer","limits","CoinSwitch","offers","bestOfferIndex","bestOffer","i","getLimitsForPair","validFloatLimits","validFixedLimits","Math","min","getAggregateBestOffer","_from","_to","_amount","_fix","Aggregator","useSearchExchangeAmount","setFrom","setTo","setAmount","setUseFix","selectedOfferIndex","setOfferIndex","setOffers","setLimits","debouncedGetOffersOnce","useConstant","AwesomeDebouncePromise","debouncedGetOffers","useAsync","Main","currencies","updateCurrencies","setAddress","setRefundAddress","fresh","setFresh","setMinAmountFloat","setMinAmountFixed","searchTerm","setSearchTerm","toSearchTerm","setToSearchTerm","selectedFrom","setSelectedFrom","selectedTo","setSelectedTo","updateLimitAmounts","then","_currencies","primary","paddingBottom","paddingRight","textAlign","color","required","type","value","onChange","event","target","handleAmountChange","wide","secondary","items","toLowerCase","indexOf","onSelect","fromObj","find","renderSelected","x","selected","onSelectedClick","placeholder","justifyContent","loading","index","description","toObj","LastExchangeBox","App","sidePanelOpened","setSidePanelOpened","src","AragonUILogog","alt","ChangellyLogo","Boolean","window","location","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister","module","exports"],"mappings":"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","file":"static/js/main.fcbe99e3.chunk.js","sourcesContent":["export const amountCheck = (fix, amount, limit) => {\n  if (!limit) return\n  if (limit.error) throw limit.error;\n  if (fix) {\n    if (limit.fixError) throw limit.fixError\n    if (amount < limit.minAmountFixed) throw Error(`Min Amount: ${limit.minAmountFixed}`)\n    else if (amount > limit.maxAmountFixed) throw Error(`Max Amount: ${limit.maxAmountFixed}`)\n  } else {\n    if (limit.floatError) throw limit.floatError\n    if (amount < limit.minAmountFloat) throw Error(`Min Amount: ${limit.minAmountFloat}`)\n    else if (amount > limit.maxAmountFloat) throw Error(`Max Amount ${limit.maxAmountFloat}`)\n  }\n}\n","import { Changelly } from 'changelly-js'\nimport { amountCheck } from '../common'\n\nconst apiKey = process.env.REACT_APP_APIKey\nconst apiSecret = process.env.REACT_APP_APISecret\nconst changelly = new Changelly(apiKey, apiSecret)\n\nconst exchange = 'Changelly'\n\nexport const getExchangeAmount = async (from, to, amount, fix, limit) => {\n  try {\n    amountCheck(fix, amount, limit)\n    if (!fix) {\n      const result = await changelly.getExchangeAmount([{ from, to, amount }])\n      return {\n        amount: Number(result[0].result),\n        id: '',\n        exchange,\n      }\n    } else {\n      const result = await changelly.getFixRateForAmount([{ from, to, amountFrom: amount }])\n      return {\n        amount: Number(result[0].amountTo),\n        id: result[0].id,\n        exchange,\n      }\n    }\n  } catch (error) {\n    return { amount: 0, exchange, error: error.toString() }\n  }\n}\n\nexport const getMinMaxForPair = async (from, to) => {\n  try {\n    const pairParams = await changelly.getPairsParams([{ from, to }])\n    const { minAmountFloat, minAmountFixed, maxAmountFloat, maxAmountFixed } = pairParams[0]\n    return {\n      minAmountFloat: Number(minAmountFloat),\n      minAmountFixed: Number(minAmountFixed),\n      maxAmountFloat: maxAmountFloat === null ? Number.MAX_VALUE : Number(maxAmountFloat),\n      maxAmountFixed: maxAmountFixed === null ? Number.MAX_VALUE : Number(maxAmountFixed),\n      exchange,\n    }\n  } catch (error) {\n    return { exchange, error }\n  }\n\n}\n\nexport const getCurrenciesSymbolAndLabel = async () => {\n  const coins = await changelly.getCurrenciesFull()\n  return coins\n    .filter(coin => coin.enabled)\n    .map(coin => {\n      return {\n        symbol: coin.name,\n        label: `${coin.fullName} (${coin.name})`,\n      }\n    })\n}\n\nexport const createTransaction = async (\n  fix,\n  rateId,\n  from,\n  to,\n  address,\n  amount,\n  extraId = null,\n  refundAddress = null,\n  refundExtraId = null\n) => {\n  if (fix) {\n    const tx = await changelly.createFixTransaction(\n      from,\n      to,\n      address,\n      rateId,\n      refundAddress,\n      amount,\n      null,\n      extraId,\n      refundExtraId\n    )\n    return {\n      from: tx.currencyFrom,\n      to: tx.currencyTo,\n      amountFrom: tx.amountExpectedFrom,\n      amountTo: tx.amountExpectedTo,\n      id: tx.id,\n      payoutAddress: tx.payoutAddress,\n      payinAddress: tx.payinAddress,\n      payinExtraId: tx.payinExtraId,\n      expiration: tx.payTill,\n      exchange,\n    }\n  } else {\n    const tx = await changelly.createTransaction(from, to, address, amount, extraId, refundAddress, refundExtraId)\n    // const tx = {\n    //   currencyFrom: from,\n    //   currencyTo: to,\n    //   amountExpectedFrom: amount,\n    //   amountExpectedTo: '150.2314098712',\n    //   id: '123412341234',\n    //   payinAddress: 'bc1qwqdg6squsna38e46795at95yu9atm8azzmyvckulcc7kytlcckxswvvzej',\n    //   payoutAddress: address,\n    //   refundAddress: refundAddress,\n    //   payinExtraId: null,\n    // }\n    return {\n      from: tx.currencyFrom,\n      to: tx.currencyTo,\n      amountFrom: tx.amountExpectedFrom,\n      amountTo: tx.amountExpectedTo,\n      id: tx.id,\n      payoutAddress: tx.payoutAddress,\n      payinAddress: tx.payinAddress,\n      payinExtraId: tx.payinExtraId,\n      exchange,\n    }\n  }\n}\n\nexport const getTransactionStatus = async id => {\n  return await changelly.getStatus(id)\n}\n","const URI_PREFIX = process.env.REACT_APP_CORS_PREFIX || ''\nconst URI = URI_PREFIX + 'https://api.coinswitch.co/v2/'\nconsole.log(`CoinSwitch: ${URI}`)\nconst API_KEY = process.env.REACT_APP_COINSWITCH_KEY\nif (!API_KEY) throw Error('Missing CoinSwitch APIKey')\n\n/**\n * @returns {Promise<Array<{name: string, symbol: string, parentCode:string | null}>>}\n */\nexport const getCoins = async () => {\n  const coins = await requestCoinSwitch('coins', 'GET')\n  const target = coins\n    .filter(coin => {\n      return coin.isActive && !coin.isFiat\n    })\n    .map(coin => {\n      return {\n        name: coin.name,\n        symbol: coin.symbol,\n        parentCode: coin.parentCode,\n      }\n    })\n  return target\n}\n\n/**\n *\n * @param {string | null} depositCoin\n * @param {string |null} destinationCoin\n * @returns {Promise<Array<{depositCoin: string, destinationCoin:string, isActive:boolean}>>}\n */\nexport const getPairs = async (depositCoin = null, destinationCoin = null) => {\n  if (!depositCoin && !destinationCoin) throw new Error('One of depositCoin or destinationCoin need to be specified')\n  let params = {}\n  if (depositCoin) params.depositCoin = depositCoin\n  if (destinationCoin) params.destinationCoin = destinationCoin\n\n  const pairs = await requestCoinSwitch('pairs', 'POST', params)\n  return pairs\n    .filter(pair => pair.isActive)\n    .map(pair => {\n      return {\n        depositCoin: pair.depositCoin,\n        destinationCoin: pair.destinationCoin,\n      }\n    })\n}\n\n/**\n *\n * @param {string} depositCoin\n * @param {string} destinationCoin\n * @returns {Promise<{ rate:number minerFee:number, limitMinDepositCoin:number, limitMaxDepositCoin:number,\n * limitMinDestinationCoin:number, limitMaxDestinationCoin:number }>}\n */\nexport const getRates = async (depositCoin, destinationCoin) => {\n  const params = { depositCoin, destinationCoin }\n  const rate = await requestCoinSwitch('rate', 'POST', params)\n  return rate\n}\n\n/**\n *\n * @param {*} depositCoin\n * @param {*} destinationCoin\n * @returns {Promise<Array<{depositCoin: string, destinationCoin: string, isActive: boolean, limitMinDepositCoin: number,\n * limitMaxDepositCoin: number, limitMinDestinationCoin: number, limitMaxDestinationCoin: number}>>}\n */\nexport const getFixedPairs = async (depositCoin = null, destinationCoin = null) => {\n  if (!depositCoin && !destinationCoin) throw new Error('One of depositCoin or destinationCoin need to be specified')\n  let params = {}\n  if (depositCoin) params.depositCoin = depositCoin\n  if (destinationCoin) params.destinationCoin = destinationCoin\n\n  const pairs = await requestCoinSwitch('fixed/pairs', 'POST', params)\n  const result = pairs.filter(pair => pair.isActive)\n  if(result.length ===0) return [ { error: 'Fix rate trading of this pair not supported' } ]\n  return result\n}\n\n/**\n *\n * @param {{ depositCoin:string, destinationCoin:string, depositCoinAmount?:number, destinationCoinAmount?:number }} data\n * @return {Promise<{depositCoin: string, destinationCoin:string, depositCoinAmount: string, destinationCoinAmount: string, offerReferenceId:string, offerExpirationTime:number}>}\n */\nexport const getFixedRates = async params => {\n  const { depositCoinAmount, destinationCoinAmount } = params\n  if ((!depositCoinAmount && !destinationCoinAmount) || (depositCoinAmount && destinationCoinAmount))\n    throw new Error('Only specify one of depositCoinAmount or destinationCoinAmount')\n  const offer = await requestCoinSwitch('fixed/offer', 'POST', params)\n  return offer\n}\n\n/**\n * Get rate for all pairs\n * @dev Will not return invalid pair, we can use this to filter unsupported coins\n * @param {Array<{depositCoin:string, destinationCoin:string}>} pairs\n * @returns {Promise<Array<{depositCoin: string, destinationCoin: string, rate: number, minerFee: number,\n            limitMinDepositCoin: number, limitMaxDepositCoin: number,\n            limitMinDestinationCoin: number, limitMaxDestinationCoin: number}>>}\n */\nexport const getBulkRate = async pairs => {\n  return requestCoinSwitch('bulk-rate', 'POST', pairs)\n}\n\nconst requestCoinSwitch = async (endpoint, method, params) => {\n  const url = URI + endpoint\n  let options = {\n    method,\n    headers: {\n      'x-api-key': API_KEY,\n      'x-user-ip': '220.132.76.232',\n      'content-type': 'application/json',\n    },\n  }\n  if (method === 'POST') options.body = JSON.stringify(params)\n\n  const response = await fetch(url, options)\n  if (response.status === 200) {\n    try{\n      const resJson = await response.json()\n      if (resJson.success) return resJson.data\n      throw resJson.msg\n    } catch (error) {\n      console.error(error)\n      throw new Error(`Pair not supported`)\n    }\n  } else {\n    throw await response.text()\n  }\n}\n","import * as CoinSwitchAPI from './api'\nimport { amountCheck } from '../common'\n\nconst exchange = 'CoinSwitch'\n\n/**\n * \n * @param {string} from \n * @param {string} to \n * @param {number} amount \n * @param {boolean} fix \n * @param {{}} limit\n * @returns {Promise<{amount:number, id:string, exchange: string}>}\n */\nexport const getExchangeAmount = async (from, to, amount, fix, limit) => {\n  try{\n    amountCheck(fix, amount, limit)\n    if(fix) {\n      const offer = await CoinSwitchAPI.getFixedRates({ depositCoin:from, destinationCoin:to, depositCoinAmount: amount })\n      const id = offer.offerReferenceId;\n      const destinationAmount = Number(offer.destinationCoinAmount)\n      return { amount: destinationAmount, id, exchange }\n    } else {\n      const { rate, minerFee } = await CoinSwitchAPI.getRates(from, to)\n      const destinationAmount = amount * rate - minerFee\n      return { amount: destinationAmount, id: '', exchange }\n    }\n  } catch (error) {\n    return { amount: 0, exchange, error: error.toString() }\n  }\n}\n\nexport const getMinMaxForPair = async (from, to) => {\n  try {\n    const [floatResult, fixResult] = await Promise.all([\n      CoinSwitchAPI.getRates(from, to),\n      CoinSwitchAPI.getFixedPairs(from, to)\n    ]) \n    const { limitMinDepositCoin: minAmountFloat, limitMaxDepositCoin: maxAmountFloat } = floatResult\n    \n    /** In CoinSwitch, it's possible that fix rate not supported but float rate supported */\n    if (!fixResult[0].error) {\n      const { limitMinDepositCoin: minAmountFixed, limitMaxDepositCoin: maxAmountFixed } = fixResult[0]\n      return { minAmountFloat, maxAmountFloat, minAmountFixed, maxAmountFixed, exchange }\n    } else {\n      return { minAmountFloat, maxAmountFloat, fixError: fixResult[0].error }\n    }\n  } catch (error) {\n    return { error, exchange }\n  }\n}","import React, { useState } from 'react'\n\nimport { \n  Table, \n  TableHeader, \n  TableRow, \n  TableCell, \n  Text, \n  IconRefresh,  \n  shortenAddress, \n  Button\n} from '@aragon/ui'\n\nimport { Changelly } from './Exchanges';\n\nexport default function LastExchange(transaction) {\n  const [status, setStatus] = useState('unkown')\n\n  const updateExchangeStatus = async () => {\n    switch (transaction.exchange) {\n      case 'Changelly': {\n        const result = await Changelly.getTransactionStatus(transaction.id)\n        setStatus(result)\n        break;\n      }\n      default :{\n        console.error(`Unknown exchange`)\n        break;\n      }\n    }\n  }\n\n\n  return (\n    <>\n      <Table\n        header={\n          <TableRow>\n            <TableHeader title='Last Transaction' />\n          </TableRow>\n        }\n      >\n        <TableRow>\n          <TableCell>\n            <Text>Id</Text>\n          </TableCell>\n          <TableCell>\n            <Text>{transaction.id}</Text>\n          </TableCell>\n        </TableRow>\n\n        <TableRow>\n          <TableCell>\n            <Text>Transfer</Text>\n          </TableCell>\n          <TableCell>\n            <Text>\n              {transaction.amountFrom} {transaction.from}\n            </Text>\n          </TableCell>\n        </TableRow>\n\n        <TableRow>\n          <TableCell>\n            <Text>To</Text>\n          </TableCell>\n          <TableCell>\n            <Text> {shortenAddress(transaction.payinAddress)} </Text>\n          </TableCell>\n        </TableRow>\n\n        <TableRow>\n          <TableCell>\n            <Text>You get</Text>\n          </TableCell>\n          <TableCell>\n            <Text>\n              {' '}\n              {transaction.amountTo} {transaction.to}\n            </Text>\n          </TableCell>\n        </TableRow>\n\n        <TableRow>\n          <TableCell>\n            <Text>Status</Text>\n          </TableCell>\n          <TableCell>\n            <Button \n            onClick = {updateExchangeStatus}\n            icon={<IconRefresh/>} \n            label={status}  />\n            {/* <Help hint=\"What are Ethereum addresses made of?\">  Can't find the exchange </Help> */}\n          </TableCell>\n        </TableRow>\n        \n      </Table>\n    </>\n  )\n}\n","import React, { useState } from 'react'\n\nimport { Modal, Button, Info, AddressField, IdentityBadge } from '@aragon/ui'\n\nimport { Changelly } from './Exchanges/'\n\nexport default function ExchangeModal(\n  fixed,\n  fixRateId,\n  from,\n  to,\n  amount,\n  address,\n  refundAddress,\n  refundExtraId,\n  exchangeName,\n\n  updateTransaction,\n  transaction\n) {\n  // for Exchange panel\n  const [opened, setOpened] = useState(false)\n  const [errorMessage, setErrorMessage] = useState('')\n  const [errorOpened, setErrorOpened] = useState(false)\n\n  const handleExchange = async () => {\n    if (!address) {\n      setErrorMessage('You need to specify receive address to proceed')\n      setErrorOpened(true)\n    } else {\n      try {\n        switch (exchangeName) {\n          case 'Changelly': {\n            const transaction = await Changelly.createTransaction(\n              fixed,\n              fixRateId,\n              from,\n              to,\n              address,\n              amount,\n              null,\n              refundAddress,\n              refundExtraId\n            )\n\n            setOpened(true)\n            updateTransaction(transaction)\n            break\n          }\n\n          default: {\n            throw new Error(`${exchangeName} transaction not supported yet`);\n          }\n        }\n      } catch (error) {\n        setErrorMessage(error.message)\n        setErrorOpened(true)\n      }\n    }\n  }\n\n  return (\n    <>\n      <Button onClick={handleExchange} label='Exchange' mode='strong' />\n\n      <Modal closeButton={false} width={800} padding={40} visible={opened} onClose={() => setOpened(false)}>\n        <div style={{ padding: '20px', alignItems: 'center' }}>\n          <div style={{ fontSize: 14, paddingLeft: 20 }}> Transaction Created: {transaction.id} </div>\n          <div style={{ fontSize: 24, padding: 20 }}>\n            {' '}\n            Please send {transaction.amountFrom} {transaction.from.toUpperCase()} to:{' '}\n          </div>\n          <div style={{ padding: 20 }}>\n            <AddressField address={transaction.payinAddress} />\n          </div>\n\n          <div style={{ fontSize: 20, padding: 20 }}>\n            We will send {transaction.amountTo} {transaction.to} to <IdentityBadge entity={transaction.payoutAddress} />{' '}\n          </div>\n        </div>\n\n        <div style={{ fontSize: 16, padding: '20px', display: 'flex', alignContent: 'center' }}></div>\n      </Modal>\n\n      {/* Error Modal */}\n      <Modal closeButton={false} width={600} padding={30} visible={errorOpened} onClose={() => setErrorOpened(false)}>\n        <Info title='Opps...' mode='error'>\n          {errorMessage}\n        </Info>\n      </Modal>\n    </>\n  )\n}\n","import * as Changelly from './Changelly/index'\nimport * as CoinSwitch from './CoinSwitch/index'\n\nexport const getBestOffer = async (from, to, amount, fix, limits) => {\n  // console.log(`[GET] get best offer with ${from}, ${to}, ${amount} limits`, limits)\n  const offers = await Promise.all([\n    Changelly.getExchangeAmount(from, to, amount, fix, limits[0]),\n    CoinSwitch.getExchangeAmount(from, to, amount, fix, limits[1]),\n  ])\n  \n  let bestOfferIndex = 0\n  let bestOffer = offers[0].amount\n  for(let i=0; i<offers.length; i++) {\n    if(offers[i].amount > bestOffer)\n    bestOfferIndex = i\n    bestOffer = offers[i].amount\n\n  }\n  \n  return { offers, bestOfferIndex }\n}\n\nexport const getLimitsForPair = async (from, to) => {\n  const limits = await Promise.all([\n    Changelly.getMinMaxForPair(from, to),\n    CoinSwitch.getMinMaxForPair(from, to)\n  ])\n  const validFloatLimits = limits.filter(limit => !limit.error && !limit.floatError)\n  const validFixedLimits = limits.filter(limit => !limit.error && !limit.fixError)\n\n  const minAmountFloat = Math.min(...validFloatLimits.map(limit=>Number(limit.minAmountFloat)))\n  const minAmountFixed = Math.min(...validFixedLimits.map(limit=>Number(limit.minAmountFixed)))\n\n  return { limits, minAmountFixed, minAmountFloat };\n}","import React, { useState } from 'react'\n\nimport LastExchangeBox from './LastExchangeBox'\nimport ExchangeModal from './ExchangeModal'\n\nimport AwesomeDebouncePromise from 'awesome-debounce-promise'\nimport { useAsync } from 'react-async-hook'\nimport useConstant from 'use-constant'\n\nimport {\n  RadioList,\n  LoadingRing,\n  LinkBase,\n  Box,\n  Split,\n  IconArrowDown,\n  // IconArrowRight,\n  IconLock,\n  IconUnlock,\n  TextInput,\n  Field,\n  _AutoCompleteSelected as AutoCompleteSelected,\n  // Button,\n} from '@aragon/ui'\n\nimport { Changelly } from './Exchanges'\n\nimport * as Aggregator from './Exchanges/aggregator'\n\nconst getAggregateBestOffer = async (_from, _to, _amount, _fix, limits) => {\n  // console.log(`starting to get offer`)\n  return await Aggregator.getBestOffer(_from, _to, _amount, _fix, limits)\n}\n\nconst useSearchExchangeAmount = () => {\n  // Handle the input text state\n  const [from, setFrom] = useState('btc')\n  const [to, setTo] = useState('eth')\n  const [amount, setAmount] = useState(0)\n  const [fixed, setUseFix] = useState(false)\n  // const [currentOffer, setCurrentOffer] = useState(null)\n  const [selectedOfferIndex, setOfferIndex] = useState(0);\n  const [offers, setOffers] = useState([])\n  const [limits, setLimits] = useState([])\n\n  // Debounce the original search async function\n  const debouncedGetOffersOnce = useConstant(() => AwesomeDebouncePromise(getAggregateBestOffer, 1000))\n\n  const debouncedGetOffers = useAsync(\n    async () => {\n      if (from !== to && amount !== 0) {\n        const { offers, bestOfferIndex } = await debouncedGetOffersOnce(from, to, amount, fixed, limits)\n        setOffers(offers)\n        setOfferIndex(bestOfferIndex)\n\n      }\n    },\n    // Ensure a new request is made everytime the text changes (even if it's debounced)\n    // [amount],\n    [from, to, amount, fixed]\n  )\n\n  // Return everything needed for the hook consumer\n  return {\n    debouncedGetOffers,\n\n    from,\n    to,\n    amount,\n    fixed,\n    offers,\n    limits,\n    selectedOfferIndex,\n\n    setUseFix,\n    setFrom,\n    setTo,\n    setAmount,\n    setOffers,\n    setLimits,\n    setOfferIndex,\n    \n  }\n}\n\nexport default function Main() {\n  const [currencies, updateCurrencies] = useState([])\n  // const [address, setAddress] = useState('')\n  // const [refundAddress, setRefundAddress] = useState('')\n  const [address, setAddress] = useState('0xbAF99eD5b5663329FA417953007AFCC60f06F781')\n  const [refundAddress, setRefundAddress] = useState('bc1qjl8uwezzlech723lpnyuza0h2cdkvxvh54v3dn')\n\n  const {\n    from,\n    setFrom,\n    to,\n    setTo,\n    amount,\n    setAmount,\n    selectedOfferIndex,\n    \n    debouncedGetOffers,\n    // setCurrentOffer,\n    offers,\n    fixed,\n    setUseFix,\n    setLimits,\n    setOfferIndex\n  } = useSearchExchangeAmount()\n\n  const [fresh, setFresh] = useState(true)\n\n  const [minAmountFloat, setMinAmountFloat] = useState(0)\n  const [minAmountFixed, setMinAmountFixed] = useState(0)\n\n  // For last Exchange Info Box, only update with\n  const [transaction, updateTransaction] = useState({\n    from: '',\n    to: '',\n    amountFrom: 0,\n    amountTo: 0,\n    payinAddress: '',\n    payoutAddress: '',\n    payinExtraId: '',\n    id: '',\n    exchange: 'unkown',\n  })\n\n  // Auto Complete search\n  const [searchTerm, setSearchTerm] = useState('')\n  const [toSearchTerm, setToSearchTerm] = useState('')\n\n  const [selectedFrom, setSelectedFrom] = useState({ symbol: 'btc', label: 'Bitcoin (btc)' })\n  const [selectedTo, setSelectedTo] = useState({ symbol: 'eth', label: 'Ethereum (eth)' })\n  \n\n  let handleFromCoinChange = async label => {\n    setSearchTerm(label)\n\n    const fromObj = currencies.find(coin => coin.label === label)\n    setSelectedFrom(fromObj)\n\n    const _from = fromObj.symbol\n    \n    await updateLimitAmounts(_from, to)\n    setFrom(_from)\n    // debouncedGetOffers.execute(_from, to, amount, fixed, limits)\n  }\n\n  let handleToCoinChange = async label => {\n    setToSearchTerm(label)\n    const toObj = currencies.find(coin => coin.label === label)\n    setSelectedTo(toObj)\n    const _to = toObj.symbol\n    \n    await updateLimitAmounts(from, _to)\n    setTo(_to)\n    // debouncedGetOffers.execute(from, _to, amount, fixed)\n  }\n\n  let handleAmountChange = async event => {\n    const _amount = event.target.value\n    setAmount(_amount)\n  }\n\n  const handleAddressChange = async event => {\n    setAddress(event.target.value)\n  }\n\n  const handleRefundAddressChange = async event => {\n    setRefundAddress(event.target.value)\n  }\n\n  let updateLimitAmounts = async (_from, _to) => {\n    const {limits, minAmountFixed, minAmountFloat} = await Aggregator.getLimitsForPair(_from, _to)\n    setLimits(limits)\n    setMinAmountFloat(minAmountFloat)\n    setMinAmountFixed(minAmountFixed)\n  }\n\n  if (fresh) {\n    setFresh(false)\n    Changelly.getCurrenciesSymbolAndLabel().then(_currencies => {\n      updateCurrencies(_currencies)\n      updateLimitAmounts(from, to)\n    })\n  }\n\n  return (\n    <Split\n      primary={\n        <div>\n          <div\n            style={{ fontSize: 16, paddingBottom: 8, paddingLeft: '21px', paddingRight: 0, textAlign: 'left', color: '#637381' }}\n          >\n            You Send\n          </div>\n          <Box>\n            <Split\n              primary={\n                <>\n                  <Field label={`Amount (Min:${fixed ? minAmountFixed : minAmountFloat})`} required>\n                    <TextInput\n                      type='number'\n                      value={amount}\n                      onChange={event => {\n                        handleAmountChange(event)\n                      }}\n                    ></TextInput>\n                  </Field>\n\n                  <Field label='Refund Address'>\n                    <TextInput\n                      required\n                      wide='true'\n                      onChange={handleRefundAddressChange}\n                      type='text'\n                      value={refundAddress}\n                    ></TextInput>\n                  </Field>\n                </>\n              }\n              secondary={\n                <>\n                  <Field label='from'>\n                    <AutoCompleteSelected\n                      items={currencies\n                        .filter(coin => {\n                          if (searchTerm) return coin.label.toLowerCase().indexOf(searchTerm.toLowerCase()) > -1\n                          else return true\n                        })\n                        .map(coin => coin.label)}\n                      onChange={setSearchTerm}\n                      value={searchTerm}\n                      onSelect={handleFromCoinChange}\n                      renderSelected={x => <> {x.label} </>}\n                      selected={selectedFrom}\n                      onSelectedClick={() => {\n                        setSelectedFrom(null)\n                        setSearchTerm('')\n                      }}\n                      placeholder='Search To Show More'\n                    />\n                  </Field>\n                </>\n              }\n            />\n          </Box>\n\n          <div style={{ padding: '15px', display: 'flex', justifyContent: 'center' }}>\n            {/* <img style={{ width: 25, height: 25 }} alt={`from`} src={`https://cryptoicons.org/api/icon/${from}/25`} /> */}\n            <span style={{ paddingLeft: 15, paddingRight: 15 }}>\n              {' '}\n              <IconArrowDown />{' '}\n            </span>\n\n            {/* <img style={{ width: 25, height: 25 }} alt={`${to}`} src={`https://cryptoicons.org/api/icon/${to}/25`} /> */}\n            <LinkBase\n              style={{ paddingLeft: 25 }}\n              onClick={() => {\n                setUseFix(!fixed)\n              }}\n            >\n              {fixed ? <IconLock /> : <IconUnlock />}\n            </LinkBase>\n          </div>\n\n          <Box>\n            <Split\n              primary={\n                <div>\n                  <Field label='Offers'>\n                    {debouncedGetOffers.loading ? (\n                      <LoadingRing />\n                    ) : (\n                      <RadioList\n                        onChange={(index) => {\n                          setOfferIndex(index)\n                        }}\n                        selected={selectedOfferIndex}\n                        items={\n                          offers.length > 0\n                            ? offers.map(offer => {\n                                return offer.error\n                                  ? {\n                                      title: `${offer.amount} ${to.toUpperCase()}`,\n                                      description: `${offer.exchange}:  ${offer.error}`,\n                                    }\n                                  : {\n                                      title: `${offer.amount} ${to.toUpperCase()}`,\n                                      description: `${offer.exchange}`,\n                                    }\n                              })\n                            : [{ title:'', description: `No ${fixed ? 'fix rate' : 'float rate'} offers ` }]\n                        }\n                      />\n                    )}\n                  </Field>\n\n                  <Field label='Withdraw Address'>\n                    <TextInput required wide='true' onChange={handleAddressChange} type='text' value={address}></TextInput>\n                  </Field>\n                </div>\n              }\n              secondary={\n                <Field label='To'>\n                  <AutoCompleteSelected\n                    items={currencies\n                      .filter(coin => {\n                        if (toSearchTerm) return coin.label.toLowerCase().indexOf(toSearchTerm.toLowerCase()) > -1\n                        else return true\n                      })\n                      .map(coin => coin.label)}\n                    onChange={setToSearchTerm}\n                    value={toSearchTerm}\n                    onSelect={handleToCoinChange}\n                    renderSelected={x => <>{x.label}</>}\n                    selected={selectedTo}\n                    onSelectedClick={() => {\n                      setSelectedTo(null)\n                      setToSearchTerm('')\n                    }}\n                    placeholder='Ethereum'\n                  />\n                </Field>\n              }\n            ></Split>\n          </Box>\n          <div style={{ padding: '20px', display: 'flex', justifyContent: 'center' }}>\n            {ExchangeModal(\n              fixed,\n              offers.length !== 0 ? offers[selectedOfferIndex].id : '', // currentOffer ? currentOffer.id : '',\n              from,\n              to,\n              amount,\n              address,\n              refundAddress,\n              null, // refundExtraId\n              offers.length !== 0 ? offers[selectedOfferIndex].exchange : '', // currentOffer ? currentOffer.exchange : '',\n\n              updateTransaction,\n              transaction\n            )}\n          </div>\n        </div>\n      }\n      secondary={LastExchangeBox(transaction)}\n    />\n  )\n}\n","import React, { useState } from 'react'\n\nimport Exchange from './Componenets/Main'\nimport { Main, Header, Button, IconPlus, SidePanel, Box } from '@aragon/ui'\nimport AragonUILogog from './aragonui-logo.png'\nimport ChangellyLogo from './changelly-logo.png'\nimport './App.css'\n\nfunction App() {\n  const [sidePanelOpened, setSidePanelOpened] = useState(false)\n\n  return (\n    <Main>\n      <Header\n        primary={<></>}\n        secondary={\n          <Button\n            // mode='strong'\n            label='Learn More'\n            icon={<IconPlus />}\n            onClick={() => {\n              setSidePanelOpened(true)\n            }}\n          />\n        }\n      />\n\n      <Exchange />\n\n      <SidePanel title='About BestSwap' opened={sidePanelOpened} onClose={() => setSidePanelOpened(false)}>\n        <div style={{ padding: 20, fontSize: 15 }}> Powered By </div>\n        <Box>\n          <img width={300} src={AragonUILogog} alt='aragon-ui'></img>\n        </Box>\n        <Box>\n          <img width={300} src={ChangellyLogo} alt='aragon-ui'></img>\n        </Box>\n      </SidePanel>\n    </Main>\n  )\n}\n\nexport default App\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = __webpack_public_path__ + \"static/media/aragonui-logo.c72415d5.png\";","module.exports = __webpack_public_path__ + \"static/media/changelly-logo.1cd0e575.png\";"],"sourceRoot":""}